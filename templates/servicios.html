{% extends "base_public.html" %}

{% block title %}Servicios | Kaitek Solutions{% endblock %}

{% block content %}

<!-- Fondo y Encabezado -->
<div class="full-page-bg"></div>

<div class="services-header">
    <h1 style="font-size: 3.5rem; text-transform: uppercase; letter-spacing: 3px; margin: 0; text-shadow: 0 4px 10px rgba(0,0,0,0.5);">
        Nuestros Servicios
    </h1>
    <p style="color: var(--kaitek-green); font-size: 1.2rem; margin-top: 10px; font-weight: bold; text-shadow: 0 2px 5px rgba(0,0,0,0.8);">
        SOLUCIONES INTEGRALES PARA LA INDUSTRIA
    </p>
</div>

<!-- CARRUSEL DE SERVICIOS -->
<section class="carousel-wrapper">
    
    <button class="carousel-btn btn-prev" id="prevBtn">
        <i class="fas fa-chevron-left"></i>
    </button>

    <div class="carousel-track-container">
        <ul class="carousel-track" id="track">
            
            <li class="service-slide">
                <div class="service-img-box">
                    <img src="https://images.unsplash.com/photo-1518709414768-a8c981a45e5d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Fundición">
                </div>
                <div class="service-content">
                    <h3>Fundición y Aleaciones</h3>
                    <p>Componentes de alta durabilidad diseñados para ambientes severos.</p>
                    <ul class="service-list">
                        <li>Placas Alto Cromo y Tungsteno</li>
                        <li>Placas Bimetálicas</li>
                        <li>Fundición de Bronce y Aceros</li>
                    </ul>
                    <a href="{{ url_for('catalogo.contacto') }}" class="btn-card-center">Cotizar</a>
                </div>
            </li>

            <li class="service-slide">
                <div class="service-img-box">
                    <img src="https://images.unsplash.com/photo-1565193566173-0929d995b5c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Maestranza CNC">
                </div>
                <div class="service-content">
                    <h3>Maestranza SKF</h3>
                    <p>Mecanizado de precisión con certificación de calidad SKF.</p>
                    <ul class="service-list">
                        <li>Ejes de hasta 6 metros</li>
                        <li>Piezas hasta 12 Toneladas</li>
                        <li>Recuperación de Soportes</li>
                    </ul>
                    <a href="{{ url_for('catalogo.contacto') }}" class="btn-card-center">Cotizar</a>
                </div>
            </li>

            <li class="service-slide">
                <div class="service-img-box">
                    <img src="https://images.unsplash.com/photo-1535579730598-a15d04c40751?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Ductos">
                </div>
                <div class="service-content">
                    <h3>Fabricación de Ductos</h3>
                    <p>Conducción segura con revestimientos para fluidos abrasivos.</p>
                    <ul class="service-list">
                        <li>Spools Acero Carbono/Inox</li>
                        <li>Revestimiento Cerámico / Epoxi</li>
                        <li>Rehabilitación Interna</li>
                    </ul>
                    <a href="{{ url_for('catalogo.contacto') }}" class="btn-card-center">Cotizar</a>
                </div>
            </li>

            <li class="service-slide">
                <div class="service-img-box">
                    <img src="https://images.unsplash.com/photo-1616401776146-247b5dad443c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Poleas">
                </div>
                <div class="service-content">
                    <h3>Revestimiento Poleas</h3>
                    <p>Vulcanizado en autoclave para máxima adherencia y duración.</p>
                    <ul class="service-list">
                        <li>Revestimiento Full Cerámico</li>
                        <li>Análisis de fallas</li>
                        <li>Fabricación de planos</li>
                    </ul>
                    <a href="{{ url_for('catalogo.contacto') }}" class="btn-card-center">Cotizar</a>
                </div>
            </li>

            <li class="service-slide">
                <div class="service-img-box">
                    <img src="https://images.unsplash.com/photo-1533235654924-f7d431057476?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Fijaciones">
                </div>
                <div class="service-content">
                    <h3>Pernos y Fijaciones</h3>
                    <p>Alta resistencia mecánica y a la corrosión para entornos marinos.</p>
                    <ul class="service-list">
                        <li>Pernos con Wolframio</li>
                        <li>Discos Retráctiles (TAS Schäfer)</li>
                        <li>Bridas y Acoplamientos</li>
                    </ul>
                    <a href="{{ url_for('catalogo.contacto') }}" class="btn-card-center">Cotizar</a>
                </div>
            </li>

        </ul>
    </div>

    <button class="carousel-btn btn-next" id="nextBtn">
        <i class="fas fa-chevron-right"></i>
    </button>
</section>

<!-- LÓGICA JAVASCRIPT CORREGIDA PARA MÓVIL -->
<script>
    const track = document.getElementById('track');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');

    // Función para obtener el ancho real de la tarjeta + gap (30px)
    function getCardWidth() {
        const slide = document.querySelector('.service-slide');
        return slide.offsetWidth + 30; // Ancho dinámico + gap CSS
    }

    nextBtn.addEventListener('click', () => {
        const moveAmount = getCardWidth();
        track.style.transition = 'transform 0.5s ease-in-out';
        track.style.transform = `translateX(-${moveAmount}px)`;
        
        setTimeout(() => {
            track.style.transition = 'none';
            track.appendChild(track.firstElementChild);
            track.style.transform = 'translateX(0)';
        }, 500);
    });

    prevBtn.addEventListener('click', () => {
        const moveAmount = getCardWidth();
        track.style.transition = 'none';
        track.prepend(track.lastElementChild);
        track.style.transform = `translateX(-${moveAmount}px)`;
        
        setTimeout(() => {
            track.style.transition = 'transform 0.5s ease-in-out';
            track.style.transform = 'translateX(0)';
        }, 10);
    });
</script>

{% endblock %}